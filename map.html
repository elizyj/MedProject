<!DOCTYPE html>
<html>
<head>
    <title>Google Maps API with Places Autocomplete</title>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA0hB1RUbLCXhWzoIXt3RElHf4fM_9j6ro&libraries=places&callback=initMap" async defer></script>
    <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-database.js"></script>
<script>        function addMarkerFromAddress(address) {
            var geocoder = new google.maps.Geocoder();
            geocoder.geocode({ 'address': address }, function(results, status) {
                if (status === 'OK') {
                    var marker = new google.maps.Marker({
                        map: map,
                        position: results[0].geometry.location
                    });
                    console.log("Marker added for address:", address);
                } else {
                    console.log('Geocode was not successful for the following reason: ' + status);
                }
            });
        }
</script>
<script type = "module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
    
    const firebaseConfig = {
        apiKey: "AIzaSyA0hB1RUbLCXhWzoIXt3RElHf4fM_9j6ro",
        authDomain: "femmehacks-415310.firebaseapp.com",
        databaseURL: "https://femmehacks-415310-default-rtdb.firebaseio.com",
        projectId: "femmehacks-415310",
        storageBucket: "femmehacks-415310.appspot.com",
        messagingSenderId: "280764623310",
        appId: "1:280764623310:web:cabcf63e223f488f15239f"
      };
    
            // Initialize Firebase
            firebase.initializeApp(firebaseConfig);
    
            // Reference the database
            const dbRef = firebase.database().ref("signupForm");
    
            dbRef.once("value")
      .then(function(snapshot) 
        {
        snapshot.forEach(function(childSnapshot) {
          var childKey = childSnapshot.key;
          // Perform further operations with each child key if needed
          childSnapshot.forEach(function(grandChildSnapshot) {
            var grandChildKey = grandChildSnapshot.key;
 
            // Perform further operations with each grandchild key if needed
            if (grandChildKey === "address") {
              var addressValue = grandChildSnapshot.val();
              addMarkerFromAddress(addressValue);
                    console.log("Address:", addressValue);
                   
          }
          });
        });
      });
    
      
        </script>

<script src="map.js"></script>


</head>
<body>
    <input id="address" type="text" placeholder="Enter your address">
    <div id="map" style="height: 400px; width: 100%;"></div>
</body>
</html>
